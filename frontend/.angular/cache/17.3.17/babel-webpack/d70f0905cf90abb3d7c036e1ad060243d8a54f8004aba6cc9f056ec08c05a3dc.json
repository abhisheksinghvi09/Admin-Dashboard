{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/api.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"../nav/nav.component\";\nfunction UsersComponent_tr_22_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\")(6, \"span\", 6);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"td\")(9, \"span\", 6);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"td\")(12, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function UsersComponent_tr_22_Template_button_click_12_listener() {\n      const user_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.editUser(user_r2));\n    });\n    i0.ɵɵtext(13, \"Edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function UsersComponent_tr_22_Template_button_click_14_listener() {\n      const user_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.deleteUser(user_r2._id));\n    });\n    i0.ɵɵtext(15, \"Delete\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const user_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r2.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r2.email);\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassMap(user_r2.role);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(user_r2.role);\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassMap(user_r2.status);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(user_r2.status);\n  }\n}\nfunction UsersComponent_div_23_input_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"input\", 24);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function UsersComponent_div_23_input_7_Template_input_ngModelChange_0_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      i0.ɵɵtwoWayBindingSet(ctx_r2.form.password, $event) || (ctx_r2.form.password = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r2.form.password);\n  }\n}\nfunction UsersComponent_div_23_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵlistener(\"click\", function UsersComponent_div_23_Template_div_click_0_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.closeModal());\n    });\n    i0.ɵɵelementStart(1, \"div\", 10);\n    i0.ɵɵlistener(\"click\", function UsersComponent_div_23_Template_div_click_1_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      return i0.ɵɵresetView($event.stopPropagation());\n    });\n    i0.ɵɵelementStart(2, \"h3\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"form\", 11);\n    i0.ɵɵlistener(\"ngSubmit\", function UsersComponent_div_23_Template_form_ngSubmit_4_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.saveUser());\n    });\n    i0.ɵɵelementStart(5, \"input\", 12);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function UsersComponent_div_23_Template_input_ngModelChange_5_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r2 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r2.form.name, $event) || (ctx_r2.form.name = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"input\", 13);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function UsersComponent_div_23_Template_input_ngModelChange_6_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r2 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r2.form.email, $event) || (ctx_r2.form.email = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(7, UsersComponent_div_23_input_7_Template, 1, 1, \"input\", 14);\n    i0.ɵɵelementStart(8, \"select\", 15);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function UsersComponent_div_23_Template_select_ngModelChange_8_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r2 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r2.form.role, $event) || (ctx_r2.form.role = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementStart(9, \"option\", 16);\n    i0.ɵɵtext(10, \"User\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"option\", 17);\n    i0.ɵɵtext(12, \"Admin\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"select\", 18);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function UsersComponent_div_23_Template_select_ngModelChange_13_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r2 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r2.form.status, $event) || (ctx_r2.form.status = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementStart(14, \"option\", 19);\n    i0.ɵɵtext(15, \"Active\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"option\", 20);\n    i0.ɵɵtext(17, \"Inactive\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(18, \"div\", 21)(19, \"button\", 22);\n    i0.ɵɵlistener(\"click\", function UsersComponent_div_23_Template_button_click_19_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.closeModal());\n    });\n    i0.ɵɵtext(20, \"Cancel\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"button\", 23);\n    i0.ɵɵtext(22, \"Save\");\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r2.isEditing ? \"Edit User\" : \"Add User\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r2.form.name);\n    i0.ɵɵadvance();\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r2.form.email);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.isEditing);\n    i0.ɵɵadvance();\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r2.form.role);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r2.form.status);\n  }\n}\nexport let UsersComponent = /*#__PURE__*/(() => {\n  class UsersComponent {\n    constructor(api) {\n      this.api = api;\n      this.users = [];\n      this.showModal = false;\n      this.isEditing = false;\n      this.editingId = '';\n      this.form = {\n        name: '',\n        email: '',\n        password: '',\n        role: 'user',\n        status: 'active'\n      };\n    }\n    ngOnInit() {\n      this.loadUsers();\n    }\n    loadUsers() {\n      this.api.getUsers().subscribe(data => this.users = data);\n    }\n    openModal() {\n      this.form = {\n        name: '',\n        email: '',\n        password: '',\n        role: 'user',\n        status: 'active'\n      };\n      this.isEditing = false;\n      this.showModal = true;\n    }\n    editUser(user) {\n      this.form = {\n        ...user,\n        password: ''\n      };\n      this.editingId = user._id;\n      this.isEditing = true;\n      this.showModal = true;\n    }\n    closeModal() {\n      this.showModal = false;\n    }\n    saveUser() {\n      const action = this.isEditing ? this.api.updateUser(this.editingId, this.form) : this.api.createUser(this.form);\n      action.subscribe(() => {\n        this.closeModal();\n        this.loadUsers();\n      });\n    }\n    deleteUser(id) {\n      if (confirm('Are you sure you want to delete this user?')) {\n        this.api.deleteUser(id).subscribe(() => this.loadUsers());\n      }\n    }\n    static {\n      this.ɵfac = function UsersComponent_Factory(t) {\n        return new (t || UsersComponent)(i0.ɵɵdirectiveInject(i1.ApiService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: UsersComponent,\n        selectors: [[\"app-users\"]],\n        decls: 24,\n        vars: 2,\n        consts: [[1, \"container\"], [1, \"header\"], [1, \"btn-add\", 3, \"click\"], [1, \"table-container\"], [4, \"ngFor\", \"ngForOf\"], [\"class\", \"modal-overlay\", 3, \"click\", 4, \"ngIf\"], [1, \"badge\"], [1, \"btn-edit\", 3, \"click\"], [1, \"btn-delete\", 3, \"click\"], [1, \"modal-overlay\", 3, \"click\"], [1, \"modal\", 3, \"click\"], [3, \"ngSubmit\"], [\"type\", \"text\", \"name\", \"name\", \"placeholder\", \"Name\", \"required\", \"\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"email\", \"name\", \"email\", \"placeholder\", \"Email\", \"required\", \"\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"password\", \"name\", \"password\", \"placeholder\", \"Password\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\", 4, \"ngIf\"], [\"name\", \"role\", 3, \"ngModelChange\", \"ngModel\"], [\"value\", \"user\"], [\"value\", \"admin\"], [\"name\", \"status\", 3, \"ngModelChange\", \"ngModel\"], [\"value\", \"active\"], [\"value\", \"inactive\"], [1, \"modal-actions\"], [\"type\", \"button\", 1, \"btn-cancel\", 3, \"click\"], [\"type\", \"submit\", 1, \"btn-save\"], [\"type\", \"password\", \"name\", \"password\", \"placeholder\", \"Password\", \"required\", \"\", 3, \"ngModelChange\", \"ngModel\"]],\n        template: function UsersComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelement(0, \"app-nav\");\n            i0.ɵɵelementStart(1, \"div\", 0)(2, \"div\", 1)(3, \"h2\");\n            i0.ɵɵtext(4, \"User Management\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(5, \"button\", 2);\n            i0.ɵɵlistener(\"click\", function UsersComponent_Template_button_click_5_listener() {\n              return ctx.openModal();\n            });\n            i0.ɵɵtext(6, \"+ Add User\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(7, \"div\", 3)(8, \"table\")(9, \"thead\")(10, \"tr\")(11, \"th\");\n            i0.ɵɵtext(12, \"Name\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(13, \"th\");\n            i0.ɵɵtext(14, \"Email\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(15, \"th\");\n            i0.ɵɵtext(16, \"Role\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(17, \"th\");\n            i0.ɵɵtext(18, \"Status\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(19, \"th\");\n            i0.ɵɵtext(20, \"Actions\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(21, \"tbody\");\n            i0.ɵɵtemplate(22, UsersComponent_tr_22_Template, 16, 8, \"tr\", 4);\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵtemplate(23, UsersComponent_div_23_Template, 23, 6, \"div\", 5);\n            i0.ɵɵelementEnd();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(22);\n            i0.ɵɵproperty(\"ngForOf\", ctx.users);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.showModal);\n          }\n        },\n        dependencies: [i2.NgForOf, i2.NgIf, i3.ɵNgNoValidate, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i3.DefaultValueAccessor, i3.SelectControlValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.NgModel, i3.NgForm, i4.NavComponent],\n        styles: [\".container[_ngcontent-%COMP%]{padding:32px;max-width:1200px;margin:0 auto}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}h2[_ngcontent-%COMP%]{color:#333}.btn-add[_ngcontent-%COMP%]{background:#667eea;color:#fff;border:none;padding:10px 20px;border-radius:8px;font-weight:500}.table-container[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 10px #0000000d;overflow:hidden}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:16px;text-align:left;border-bottom:1px solid #eee}th[_ngcontent-%COMP%]{background:#f8f9fa;font-weight:600;color:#555}.badge[_ngcontent-%COMP%]{padding:4px 12px;border-radius:20px;font-size:12px;font-weight:500}.badge.admin[_ngcontent-%COMP%]{background:#f3e8ff;color:#7c3aed}.badge.user[_ngcontent-%COMP%]{background:#e8f0fe;color:#1a73e8}.badge.active[_ngcontent-%COMP%]{background:#e6f4ea;color:#1e7e34}.badge.inactive[_ngcontent-%COMP%]{background:#fce8e8;color:#c0392b}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{border:none;padding:6px 12px;border-radius:4px;margin-right:8px;font-size:12px}.btn-edit[_ngcontent-%COMP%]{background:#e8f0fe;color:#1a73e8}.btn-delete[_ngcontent-%COMP%]{background:#fce8e8;color:#c0392b}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center}.modal[_ngcontent-%COMP%]{background:#fff;padding:32px;border-radius:12px;width:100%;max-width:400px}.modal[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:20px}.modal[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.modal[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .modal[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:12px;border:1px solid #ddd;border-radius:8px;font-size:14px}.modal-actions[_ngcontent-%COMP%]{display:flex;gap:12px;margin-top:8px}.btn-cancel[_ngcontent-%COMP%]{flex:1;padding:12px;border:1px solid #ddd;background:#fff;border-radius:8px}.btn-save[_ngcontent-%COMP%]{flex:1;padding:12px;background:#667eea;color:#fff;border:none;border-radius:8px}\"]\n      });\n    }\n  }\n  return UsersComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}